<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <title>Title</title>
</head>
<html>
<h1>组件中Data()方法的使用</h1>
<div id="app-zj-data">
    <global></global>
    <local v-bind:one="one" v-bind:two="two" v-bind:three="three"></local>
</div>
<script>
    //全局组件
    Vue.component('global', {
        template: '<div id="divQ">全局组件{{aaa}}</div>',
        data: function () {
            this.aaa = '正在进行测试，测试全局组件里data的使用'
        }
    })
    //局部组件
    let local = {
        template: '<div id="divJ">局部组件{{one}},{{two}},{{three}}</div>',
        props: ['one', 'two', 'three'],
        data: function () {
            this.three = '第三个参数'
        }
    }
    //Vue实例
    new Vue({
        el: '#app-zj-data',
        data: {
            aaa: '',
            one: '第一个参数',
            two: '第二个参数',
            three: ''
        },
        components: {
            local: local
        }
    })
</script>
<h1>组件代码与模版代码解耦</h1>
vue 实例解析的部分
<div id="app-zj-fl">
    <my-com></my-com>
</div>
方法1 用 template标签
<template id="com">
    <div>
        <h3>组件的内容{{num}}</h3>
        <button @click="num++">点击修改值{{num}}</button>
    </div>
</template>
<!-- 方法1 用 script标签
<script id="com" type="text/html">
           <div>
               <h3>组件的内容</h3>
               <button @click="num++">点击修改值{{num}}</button>
           </div>
       </script> -->
<!-- <script>
    new Vue({
        el: '#app-zj-fl',
        data: {},
        components: {
            myCom: {
                template: '#com',
                data: function () {
                    return {
                        num: 1
                    }
                },
                methods: {},
                computed: {}
            }
        }
    })
</script> -->
<h1>vue的实例写法2 实例 组件 模版 分离</h1>
<script>
    let mycom = {
        template: '#com',
        data: function () {
            return {
                num: 1
            }
        }
    }
    new Vue({
        el: '#app-zj-fl',
        data: {},
        components: {
            myCom: mycom
        }
    })
</script>
<h1>父组件与子组件demo</h1>
<div id="app-fz">
    <dfs-com></dfs-com>
</div>
<template id="dfs">
    <div>
        <p>这里是父组件</p>
        <zzj-com></zzj-com>
    </div>
</template>
<template id="zzj">
    <div>
        <p>这里是子组件</p>
    </div>
</template>
<script>
    new Vue({
        el: '#app-fz',
        data: {},
        components: {
            tfsCom: {//在vue实例中使用tfs-com  组件
                template: '#tfs',
                data: function () {

                },
                components: {
                    zzjCom: {
                        template: "#zzj",
                        data: function () {
                            return {}
                        }
                    }
                }
            }
        }
    })
</script>

<h1>数据父传子</h1>
<div id="app-fzdata">
    <tfs-com :str="str"></tfs-com>
</div>
<template id="tfsdata">
    <div>
        <p>这里是父组件tfsCom{{str}}</p>
        <zzj-com :str1="str1" :str2="str2"></zzj-com>
    </div>
</template>
<template id="zzjdata"><!--子组件模板--> 
    <div>
        <p>这里是子组件的内容和传入的{{str1}},{{str2}}</p>
    </div>
</template>
<script>
    new Vue({
        el: '#app-fzdata',
        data: {
            str: '根组件传来的str'
        },
        components: {
            tfsCom: {
                template: '#tfsdata',
                props: ['str'],
                data: function () {
                    return {
                        str1: 20,
                        str2: 'lai'
                    }
                },
                components: {
                    zzjCom: {
                        template: '#zzjdata',
                        // props:['str1','str2']
                        props: {
                            str1: {
                                type: Number,
                                default: 0,
                                required: true
                            },
                            str2: {
                                type: String,
                                default: 'ok',
                                required: true
                            }
                        }
                    }
                }
            }
        }
    })
</script>

<h1>数据子传父</h1>
<div id="vsf">
    <tsf-com></tsf-com>
</div>
<template id="tsf">
    <div>
        <p>这里是父组件{{reStr}}</p>
        <zzj-com @sendstr="jieshou"></zzj-com>
    </div>
</template>
<template id="zzj">
    <div>
        <input v-model="str" />
        <button @click="send">Send</button>
    </div>
</template>
<script>
    new Vue({
        el: '#vsf',
        data:{ 
        },
        components: {
            tsfCom: {
                template: '#tsf',
                data: function () {
                    return {
                        reStr: ''
                    }
                },
                components: {
                    zzjCom: {
                        template: '#zzj',
                        data: function () {
                            return {
                                str: ''
                            }
                        },
                        methods: {
                            send() {
                                this.$emit('sendstr', this.str)
                            }
                        }
                    }
                },
                methods: {
                    jieshou(shou) {
                        this.reStr = show
                    }
                }
            }
        }
    })
</script>
</body>

</html>